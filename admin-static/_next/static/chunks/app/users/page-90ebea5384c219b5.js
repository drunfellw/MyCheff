(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9],{233:(e,t,a)=>{Promise.resolve().then(a.bind(a,947))},947:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>N});var r=a(5155),i=a(2115),s=a(3592),n=a(6854),o=a(810),l=a(2282),c=a(1396),d=a(4665),h=a(2479),x=a(152),m=a(1441),u=a(2406),g=a(6106),p=a(7335),A=a(7315),j=a(8786),f=a(8983),b=a(2432),y=a(562),v=a(9234),w=a(894),k=a(5848),C=a(7740),S=a(8205);let I=(0,a(2983).A)((0,r.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");var P=a(9545),L=a(450),z=a(2631),_=a(5534);function N(){let[e,t]=(0,i.useState)([]),[a,N]=(0,i.useState)(!0),[M,W]=(0,i.useState)(null),[T,R]=(0,i.useState)(""),[E,Z]=(0,i.useState)(0),[U,V]=(0,i.useState)(10),[D,O]=(0,i.useState)(0),Y=async()=>{try{N(!0),W(null);let e=localStorage.getItem("admin_token");if("mock_admin_token_12345"===e){t(H),O(H.length);return}let a=await _.lu.getAll(E+1,U,T);a.data&&(t(a.data),O(a.total||a.data.length))}catch(e){console.error("Error fetching users:",e),t(H),O(H.length),W("Using demo data - Backend not connected")}finally{N(!1)}};(0,i.useEffect)(()=>{Y()},[E,U,T]);let B=async e=>{try{await _.lu.delete(e),Y()}catch(e){console.error("Error deleting user:",e)}},H=[{id:"1",username:"ahmed_chef",email:"ahmed@mycheff.com",firstName:"Ahmed",lastName:"Yılmaz",fullName:"Ahmed Yılmaz",profileImage:"",preferredLanguage:"tr",isActive:!0,isVerified:!0,isPremium:!0,lastLoginAt:"2024-01-15T10:30:00Z",createdAt:"2023-12-01T09:00:00Z",updatedAt:"2024-01-15T10:30:00Z"},{id:"2",username:"maria_cook",email:"maria@mycheff.com",firstName:"Maria",lastName:"Rodriguez",fullName:"Maria Rodriguez",profileImage:"",preferredLanguage:"en",isActive:!0,isVerified:!0,isPremium:!1,lastLoginAt:"2024-01-14T15:45:00Z",createdAt:"2023-11-20T14:30:00Z",updatedAt:"2024-01-14T15:45:00Z"},{id:"3",username:"yuki_kitchen",email:"yuki@mycheff.com",firstName:"Yuki",lastName:"Tanaka",fullName:"Yuki Tanaka",profileImage:"",preferredLanguage:"en",isActive:!0,isVerified:!1,isPremium:!0,lastLoginAt:"2024-01-13T08:20:00Z",createdAt:"2023-10-15T11:00:00Z",updatedAt:"2024-01-13T08:20:00Z"}],G=e.filter(e=>e.fullName.toLowerCase().includes(T.toLowerCase())||e.email.toLowerCase().includes(T.toLowerCase())||e.username.toLowerCase().includes(T.toLowerCase()));return a?(0,r.jsx)(z.A,{children:(0,r.jsx)(s.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:(0,r.jsx)(n.A,{})})}):(0,r.jsx)(z.A,{children:(0,r.jsxs)(s.A,{children:[(0,r.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,r.jsx)(o.A,{variant:"h4",component:"h1",fontWeight:"bold",children:"User Management"}),(0,r.jsx)(l.A,{variant:"contained",startIcon:(0,r.jsx)(C.A,{}),sx:{borderRadius:2},children:"Add New User"})]}),M&&(0,r.jsx)(c.A,{severity:"warning",sx:{mb:3},children:M}),(0,r.jsx)(d.A,{sx:{mb:3},children:(0,r.jsx)(h.A,{children:(0,r.jsx)(x.A,{fullWidth:!0,placeholder:"Search users by name, email, or username...",value:T,onChange:e=>R(e.target.value),InputProps:{startAdornment:(0,r.jsx)(m.A,{position:"start",children:(0,r.jsx)(S.A,{})})},sx:{borderRadius:2}})})}),(0,r.jsxs)(d.A,{children:[(0,r.jsx)(u.A,{component:g.A,elevation:0,children:(0,r.jsxs)(p.A,{children:[(0,r.jsx)(A.A,{children:(0,r.jsxs)(j.A,{children:[(0,r.jsx)(f.A,{sx:{fontWeight:"bold"},children:"User"}),(0,r.jsx)(f.A,{sx:{fontWeight:"bold"},children:"Email"}),(0,r.jsx)(f.A,{sx:{fontWeight:"bold"},children:"Status"}),(0,r.jsx)(f.A,{sx:{fontWeight:"bold"},children:"Premium"}),(0,r.jsx)(f.A,{sx:{fontWeight:"bold"},children:"Language"}),(0,r.jsx)(f.A,{sx:{fontWeight:"bold"},children:"Last Login"}),(0,r.jsx)(f.A,{sx:{fontWeight:"bold"},children:"Actions"})]})}),(0,r.jsx)(b.A,{children:G.slice(E*U,E*U+U).map(e=>(0,r.jsxs)(j.A,{hover:!0,children:[(0,r.jsx)(f.A,{children:(0,r.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,r.jsx)(y.A,{src:e.profileImage,sx:{bgcolor:"primary.main",width:50,height:50},children:(0,r.jsx)(I,{})}),(0,r.jsxs)(s.A,{children:[(0,r.jsx)(o.A,{variant:"subtitle2",fontWeight:"medium",children:e.fullName}),(0,r.jsxs)(o.A,{variant:"caption",color:"text.secondary",children:["@",e.username]})]})]})}),(0,r.jsx)(f.A,{children:e.email}),(0,r.jsx)(f.A,{children:(0,r.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[(0,r.jsx)(v.A,{label:e.isActive?"Active":"Inactive",color:e.isActive?"success":"default",size:"small"}),(0,r.jsx)(v.A,{label:e.isVerified?"Verified":"Not Verified",color:e.isVerified?"info":"warning",size:"small"})]})}),(0,r.jsx)(f.A,{children:(0,r.jsx)(v.A,{label:e.isPremium?"Premium":"Free",color:e.isPremium?"secondary":"default",size:"small"})}),(0,r.jsx)(f.A,{children:(0,r.jsx)(o.A,{variant:"body2",children:e.preferredLanguage.toUpperCase()})}),(0,r.jsx)(f.A,{children:(0,r.jsx)(o.A,{variant:"body2",color:"text.secondary",children:e.lastLoginAt?new Date(e.lastLoginAt).toLocaleDateString():"Never"})}),(0,r.jsx)(f.A,{children:(0,r.jsxs)(s.A,{sx:{display:"flex",gap:1},children:[(0,r.jsx)(w.A,{size:"small",color:"primary",children:(0,r.jsx)(P.A,{fontSize:"small"})}),(0,r.jsx)(w.A,{size:"small",color:"error",onClick:()=>B(e.id),children:(0,r.jsx)(L.A,{fontSize:"small"})})]})})]},e.id))})]})}),(0,r.jsx)(k.A,{rowsPerPageOptions:[5,10,25],component:"div",count:D,rowsPerPage:U,page:E,onPageChange:(e,t)=>{Z(t)},onRowsPerPageChange:e=>{V(parseInt(e.target.value,10)),Z(0)}})]})]})})}},2631:(e,t,a)=>{"use strict";a.d(t,{A:()=>R});var r=a(5155),i=a(2115),s=a(3592),n=a(6854),o=a(6805),l=a(562),c=a(810),d=a(2241),h=a(4918),x=a(1983),m=a(6017),u=a(2091),g=a(391),p=a(1451),A=a(894),j=a(1651),f=a(9579),b=a(7446),y=a(1888),v=a(2227),w=a(9582),k=a(4425),C=a(1531),S=a(4954),I=a(2315),P=a(2639),L=a(1076),z=a(1118),_=a(2819),N=a(4676),M=a(5067),W=a(6046);let T=[{text:"Dashboard",icon:(0,r.jsx)(v.A,{}),path:"/dashboard"},{text:"Recipes",icon:(0,r.jsx)(w.A,{}),path:"/recipes"},{text:"Categories",icon:(0,r.jsx)(k.A,{}),path:"/categories"},{text:"Ingredients",icon:(0,r.jsx)(C.A,{}),path:"/ingredients"},{text:"Users",icon:(0,r.jsx)(S.A,{}),path:"/users"},{text:"Languages",icon:(0,r.jsx)(I.A,{}),path:"/languages"},{text:"Analytics",icon:(0,r.jsx)(P.A,{}),path:"/analytics"},{text:"Settings",icon:(0,r.jsx)(L.A,{}),path:"/settings"}];function R(e){var t;let{children:a}=e,[v,w]=(0,i.useState)(!1),[k,C]=(0,i.useState)(null),[S,I]=(0,i.useState)(null),P=(0,W.useRouter)(),L=(0,W.usePathname)();(0,i.useEffect)(()=>{localStorage.getItem("admin_token")?I(!0):(P.push("/login"),I(!1))},[P]);let R=()=>{w(!v)},E=()=>{C(null)};if(null===S)return(0,r.jsx)(s.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:(0,r.jsx)(n.A,{})});if(!S)return null;let Z=(0,r.jsxs)(s.A,{children:[(0,r.jsx)(o.A,{children:(0,r.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,r.jsx)(l.A,{sx:{bgcolor:"primary.main",width:40,height:40,fontSize:"1.2rem",fontWeight:"bold"},children:"MC"}),(0,r.jsx)(c.A,{variant:"h6",noWrap:!0,component:"div",sx:{fontWeight:"bold"},children:"MyCheff Admin"})]})}),(0,r.jsx)(d.A,{}),(0,r.jsx)(h.A,{children:T.map(e=>(0,r.jsx)(x.Ay,{disablePadding:!0,children:(0,r.jsxs)(m.A,{selected:L===e.path,onClick:()=>P.push(e.path),sx:{mx:1,my:.5,borderRadius:2,"&.Mui-selected":{backgroundColor:"primary.main",color:"white","&:hover":{backgroundColor:"primary.dark"},"& .MuiListItemIcon-root":{color:"white"}}},children:[(0,r.jsx)(u.A,{sx:{color:L===e.path?"white":"text.secondary"},children:e.icon}),(0,r.jsx)(g.A,{primary:e.text,sx:{"& .MuiListItemText-primary":{fontWeight:L===e.path?600:400}}})]})},e.text))})]});return(0,r.jsxs)(s.A,{sx:{display:"flex"},children:[(0,r.jsx)(p.A,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(280,"px)")},ml:{sm:"".concat(280,"px")},backgroundColor:"background.paper",color:"text.primary",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:(0,r.jsxs)(o.A,{children:[(0,r.jsx)(A.A,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:R,sx:{mr:2,display:{sm:"none"}},children:(0,r.jsx)(z.A,{})}),(0,r.jsx)(c.A,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1},children:(null===(t=T.find(e=>e.path===L))||void 0===t?void 0:t.text)||"Admin Panel"}),(0,r.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,r.jsx)(A.A,{color:"inherit",children:(0,r.jsx)(j.A,{badgeContent:4,color:"error",children:(0,r.jsx)(_.A,{})})}),(0,r.jsx)(A.A,{size:"large",edge:"end","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",onClick:e=>{C(e.currentTarget)},color:"inherit",children:(0,r.jsx)(N.A,{})})]})]})}),(0,r.jsxs)(s.A,{component:"nav",sx:{width:{sm:280},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[(0,r.jsx)(f.Ay,{variant:"temporary",open:v,onClose:R,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:280}},children:Z}),(0,r.jsx)(f.Ay,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:280}},open:!0,children:Z})]}),(0,r.jsxs)(s.A,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(280,"px)")},minHeight:"100vh",backgroundColor:"background.default"},children:[(0,r.jsx)(o.A,{}),a]}),(0,r.jsxs)(b.A,{anchorEl:k,open:!!k,onClose:E,onClick:E,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[(0,r.jsxs)(y.A,{onClick:E,children:[(0,r.jsx)(l.A,{})," Profile"]}),(0,r.jsxs)(y.A,{onClick:E,children:[(0,r.jsx)(l.A,{})," My account"]}),(0,r.jsx)(d.A,{}),(0,r.jsxs)(y.A,{onClick:()=>{localStorage.removeItem("admin_token"),P.push("/login"),E()},children:[(0,r.jsx)(u.A,{children:(0,r.jsx)(M.A,{fontSize:"small"})}),"Logout"]})]})]})}},5534:(e,t,a)=>{"use strict";a.d(t,{R2:()=>i,lu:()=>s});let r=a(2651).A.create({baseURL:"http://localhost:3001/api/v1",timeout:1e4,headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{let t=localStorage.getItem("admin_token");return t&&"mock_admin_token_12345"!==t&&(e.headers.Authorization="Bearer ".concat(t)),e}),r.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(localStorage.removeItem("admin_token"),window.location.href="/login"),Promise.reject(e)});let i={login:async(e,t)=>(await r.post("/auth/login",{email:e,password:t})).data,register:async e=>(await r.post("/auth/register",e)).data,logout:async()=>{await r.post("/auth/logout")}},s={getAll:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(await r.get("/users",{params:{page:e,limit:t,search:a}})).data},getById:async e=>(await r.get("/users/".concat(e))).data,create:async e=>(await r.post("/users",e)).data,update:async(e,t)=>(await r.put("/users/".concat(e),t)).data,delete:async e=>{await r.delete("/users/".concat(e))}}}},e=>{var t=t=>e(e.s=t);e.O(0,[264,911,300,947,234,695,460,441,517,358],()=>t(233)),_N_E=e.O()}]);